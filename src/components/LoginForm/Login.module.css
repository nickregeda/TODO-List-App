import {Formik, Form, Field, ErrorMessage} from "formik";
import {Navigate} from 'react-router-dom';

export const LoginForm = (props) => {
    return (
        <Form>
            <div>
                <label htmlFor="email">email</label>
                <Field name={'email'} type={'email'}/>
                <ErrorMessage name={'email'} component={'div'}/>
            </div>
            <div>
                <label htmlFor="">password</label>
                <Field name={'password'} type={'password'}/>
                <ErrorMessage name={'password'} component={'div'}/>
            </div>
            <button>Log In</button>
        </Form>
    )
}

const Login = (props) => {

    if (props.isAuth) {
        return <Navigate to={'/todo-list'}/>
    }

    let onSubmit = (values) => {
        props.login(values.email, values.password)
    }

    return (
        <div>
            <h1>Login</h1>
            <Formik
                initialValues={{email: '', password: ''}}
                onSubmit={onSubmit}>
                {({values}) => {
                    return <LoginForm/>
                }}
            </Formik>
        </div>
    )
}

export default Login;